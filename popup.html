<html>

  <head>
    <style>
      #selected-color {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        margin: 0 auto;
        display: block;
      }
    </style>
  </head>

  <body>
    <div id="selected-color"></div>
    <button id="close-button">Close Now</button>
  </body>


  <script>
    // Code to get the selected color:
    chrome.tabs.executeScript({
      code: "window.getComputedStyle(document.activeElement).backgroundColor"
    }, function(backgroundColor) {
      var selectedColor = backgroundColor[0];
      document.getElementById("selected-color").style.backgroundColor = selectedColor;
    });

    // Code to close the popup window when the close button is clicked or event happened:
    document.getElementById("close-button").addEventListener("click", function() {
      window.close();
    });
  </script>

</html>
